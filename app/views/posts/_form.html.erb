<%= form_with model: @post, url: @post.new_record? ? posts_path : update_post_path, class: "form-horizontal", local: true  do |form| %>

  <div class= "form-group">
    <%= form.label :image, class: "col-sm-2 control-label" %>
    <div class="col-sm-10">
      <%= form.file_field :image, class: "form-control" %>
      <% if @user.errors[:image].any? %>
      <div class="error_messages">
        <%= @user.errors[:image].join(", ") %>
      </div>
      <% end %>
    </div>
  </div>
<br/>
  <div class="form-group">
    <%= form.label :title, class: "col-sm-2 control-label" %>
    <div class="col-sm-10">
      <%= form.text_field :title, class: "form-control" %>
      <% if @post.errors[:title].any? %>
      <div class="error_messages">
        <%= @post.errors[:title].join(", ") %>
      </div>
      <% end %>
    </div>
  </div>
<br/>
  <div class="form-group">
    <%= form.label :description, class: "col-sm-2 control-label" %>
    <div class="col-sm-10">
      <%= form.text_field :description, class: "form-control" %>
      <% if @post.errors[:description].any? %>
      <div class="error_messages">
        <%= @post.errors[:description].join(", ") %>
      </div>
      <% end %>
    </div>
  </div>
<br/>
  <div class="form-group">
    <%= form.label :tags %>
    <%= form.collection_select :tag_ids, Tag.all.ordered_alphabetically, :id, :name, {}, { multiple: true, class: 'form-control' } %>
  </div>
<br/>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <%= form.submit class: "btn btn-primary" %>
    </div>
  </div>
<% end %>